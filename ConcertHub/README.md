# WIE 2020-2021 Final Project:

Project for the "Web and Engineering" course By _Samuel Dalvai_, _Tedi Ibershimi_ and _Andrea Perri_

# Table of contents

- [WIE 2020-2021 Final Project:](#wie-2020-2021-final-project)
  - [Table of contents](#table-of-contents)
  - [Getting started](#getting-started)
    - [Prerequisites](#prerequisites)
    - [Installing the required packages](#installing-the-required-packages)
    - [Creating and populating the database](#populating-the-database)

# Getting started

## Prerequisites

**1.** You need to set up a test environment. The easiest by far are localhost environments .
We suggest to you to use the following All-in-One Applications, which will install the web server, database server and language within just a few moments:

- **XAMPP** which works across many platforms including Windows, Linux, Solaris and Mac OS X.
- **MAMP** which works only on the Mac OS X platforms.
  <br>

**2.**  This project uses **Composer** for dependency management. For this, you need to have **PHP 5.3.2 or above (at least 5.3.4 recommended to avoid potential bugs)**

Download and install Composer by following the [**official instructions**](https://getcomposer.org/download/).

For usage, see [**the documentation**](https://getcomposer.org/doc/).

<br>

**3.** This project uses also **Pip3** for the dependency management of python programs. It is expected from you to have  **python 3.x installed on your machine**

Note that Pip3 is already installed if you are using Python 3 >=3.4 downloaded from python.org or if you are working in a Virtual Environment created by virtualenv or venv. Just make sure to upgrade pip.

Download and install Pip3 by following the [**official instructions**](https://pip.pypa.io/en/stable/installing/).

For usage, see [**the documentation**](https://pip.pypa.io/en/stable/).

<br>

**4.** You need to have installed in your machine MySQL. You will have it already installed if you choose as a localhost environment one of the beforementioned All-in-One Applications.

If this is not your case, you can download and install MySQL by following the [**official instructions**](https://dev.mysql.com/doc/mysql-installer/en/).

It is required from you to configure the **database connectivity file** in order to open a connection to the MySQL Server.
You can do so by specifying the following personal configurations in the files ```project/db/db-connector.php``` :

```sh
$servername = "enter your servername";
$username_db = "enter your username";
$password_db = "enter your password";
$dbname = "test";
```

## Installing the required packages

You can follow these procedures only after you have installed _composer_, _pip3_ and cloned the repository!

```sh
git clone https://gitlab.inf.unibz.it/Tedi.Ibershimi/web-engineering-csmontali6.git
```

<br>

Go to the directory ```project/```, and issue the following commands:

```sh
1.)  composer require phpmailer/phpmailer  
```

After this process is finished you will see that  **composer.json file**, **composer.lock file** and **vendor folder** have been created in the ```project/``` directory. The environment with all the needed packages for PHP is now ready to be used. You can access it by using **composer shell**. To exit the environment simply use exit.

Note that the `project/vendor` folder and the `project/vendor/autoload.php` script are generated by Composer; they are not part of PHPMailer.

In order to make the `mailing` functionality work you also need to configure in the `project/mailSender.php` file the proper path to the `vendor` folder created by the composer, for example:

```sh
require_once "<your path>/vendor/autoload.php";
```

If the correct path is not configured correctly the `mailing` functionality will not work.
<br><br>

```sh
2.)  pip3 install -r requirements.txt 
```

## Populating the database

### Instructions for populating the database

By running the following script from the directory ```project/``` there will be created and populated with the API's data, the database of our website:

```sh
python3 scraper_scripts/db_populator.py "enter your servername" "enter your username"  "test" "enter your password"
```
Since the data loaded by the scraper is only representative of how the system will work and is not updated automatically, the data is dropped and substituted every time the script is run.